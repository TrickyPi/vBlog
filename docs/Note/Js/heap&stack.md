
# js堆和栈

堆和栈其实是一种逻辑结构，是一种抽象概念，依赖于物理结构（数组，链表）；而物理结构是内存中实实在在的存储结构；

## v8引擎

v8引擎由两个主要部分组成，内存堆（memory heap）和执行栈（call stack）；


## 执行栈
//红宝书 P73
全局执行环境是最外围的一个执行环境。根据ECMAScript实现所在的宿主环境不同，表示执行环境的对象也不一样。在web浏览器中，全局执行环境被认为是window对象；（全局执行环境直到应用程序推出-例如关闭网页或浏览器-时才会被销毁）

每一个函数都会有自己的执行环境（execution context）。当执行流进入一个函数时；函数的执行环境就会被推入一个环境栈中。而在函数执行之后，栈将其环境弹出，把控制权返回给之前的执行环境

我认为这个环境栈就是我们常说的执行栈；执行栈的底部就是全局执行环境；

## 内存堆
至于变量存储中的基本数据类型存储方式和引用数据类型存储方式其实上都是一种内存分配（memory allocation）行为；引用数据类型的指针(变量标识符&指针值)和基本数据类型（变量标识符&值）存储在栈内存里，引用数据类型的值存储在堆内存里面；栈内存和执行栈是完全不同的概念；


